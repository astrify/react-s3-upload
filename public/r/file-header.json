{
	"$schema": "https://ui.shadcn.com/schema/registry-item.json",
	"name": "file-header",
	"type": "registry:component",
	"title": "File Header",
	"description": "A header component for file upload UI with file count and actions.",
	"dependencies": ["lucide-react", "clsx", "tailwind-merge"],
	"registryDependencies": ["button"],
	"files": [
		{
			"path": "src/components/FileHeader.tsx",
			"content": "import { useFileUpload } from \"@/FileUploadContext\";\nimport { Button } from \"@/components/ui/button\";\nimport { cn } from \"@/lib/utils\";\nimport { CloudUpload, Trash2 } from \"lucide-react\";\nimport type React from \"react\";\nimport { useRef } from \"react\";\nimport type { Accept } from \"react-dropzone\";\n\n// Convert Accept object to HTML input accept string\nfunction acceptToString(accept: Accept | undefined): string | undefined {\n\tif (!accept) {\n\t\treturn undefined;\n\t}\n\n\tconst parts: string[] = [];\n\tfor (const [mimeType, extensions] of Object.entries(accept)) {\n\t\tparts.push(mimeType);\n\t\tif (extensions && extensions.length > 0) {\n\t\t\tparts.push(...extensions);\n\t\t}\n\t}\n\treturn parts.join(\",\");\n}\n\ninterface FileHeaderProps {\n\tclassName?: string;\n\ttitle?: string;\n\tshowAddButton?: boolean;\n\tshowClearButton?: boolean;\n\taddButtonText?: string;\n\tclearButtonText?: string;\n}\n\nexport function FileHeader({\n\tclassName,\n\ttitle = \"Files\",\n\tshowAddButton = true,\n\tshowClearButton = true,\n\taddButtonText = \"Add files\",\n\tclearButtonText = \"Remove all\",\n}: FileHeaderProps) {\n\tconst { files, removeAll, addFiles, canAcceptMore, config } = useFileUpload();\n\tconst fileInputRef = useRef<HTMLInputElement>(null);\n\n\tif (files.length === 0) {\n\t\treturn null;\n\t}\n\n\tconst openFileDialog = () => {\n\t\tfileInputRef.current?.click();\n\t};\n\n\tconst handleFileInputChange = async (\n\t\te: React.ChangeEvent<HTMLInputElement>,\n\t) => {\n\t\tconst newFiles = Array.from(e.target.files || []);\n\t\tif (newFiles.length > 0) {\n\t\t\tawait addFiles(newFiles);\n\t\t}\n\t\te.target.value = \"\";\n\t};\n\n\treturn (\n\t\t<div className={cn(\"flex items-center justify-between gap-2\", className)}>\n\t\t\t<input\n\t\t\t\tref={fileInputRef}\n\t\t\t\ttype=\"file\"\n\t\t\t\tmultiple={(config.maxFiles ?? 10) > 1}\n\t\t\t\taccept={acceptToString(config.accept)}\n\t\t\t\tonChange={handleFileInputChange}\n\t\t\t\tclassName=\"sr-only\"\n\t\t\t\taria-label=\"Upload file\"\n\t\t\t/>\n\n\t\t\t<h3 className=\"truncate font-medium text-sm\">\n\t\t\t\t{title} ({files.length})\n\t\t\t</h3>\n\n\t\t\t<div className=\"flex gap-2\">\n\t\t\t\t{showAddButton && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outline\"\n\t\t\t\t\t\tsize=\"sm\"\n\t\t\t\t\t\tonClick={openFileDialog}\n\t\t\t\t\t\tdisabled={!canAcceptMore}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CloudUpload\n\t\t\t\t\t\t\tclassName=\"-ms-0.5 size-3.5 opacity-60\"\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{addButtonText}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\n\t\t\t\t{showClearButton && files.length > 0 && (\n\t\t\t\t\t<Button variant=\"outline\" size=\"sm\" onClick={removeAll}>\n\t\t\t\t\t\t<Trash2\n\t\t\t\t\t\t\tclassName=\"-ms-0.5 size-3.5 opacity-60\"\n\t\t\t\t\t\t\taria-hidden=\"true\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{clearButtonText}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n",
			"type": "registry:component"
		}
	],
	"tailwind": {
		"config": {}
	},
	"cssVars": {},
	"docs": "This component requires @astrify/react-s3-upload to be installed for the FileUploadProvider context.",
	"categories": ["upload", "navigation"]
}
